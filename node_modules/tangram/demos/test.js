var tangram = require('../dist/tangram.debug.js');

scene = tangram.debug.Scene.create({
    import: 'https://mapzen.com/carto/bubble-wrap-style-more-labels/bubble-wrap-style-more-labels.yaml',
    global: { sdk_mapzen_api_key: 'mapzen-T3tPjn7' }
});
scene.load().then(function() {
    scene.resizeMap(750, 750);
    scene.view.setView({ lat: 40.705310742192296, lng: -74.00976419448854, zoom: 16 });

    scene.view.setPanning(true);

    var vec = [0.000005, 0.000005, -0.001];
    var vel = vec.map(function(v){ return v / 100 });

    setInterval(function() {
        // scene.view.setView({ zoom: scene.view.zoom - 0.01 });
        scene.view.setView({
            lng: scene.view.center.lng + vec[0],
            lat: scene.view.center.lat + vec[1],
            // zoom: scene.view.zoom + vec[2]
        });

        vec = vec.map(function(v, i){ return v + vel[i] });
        vel = vel.map(function(v){ return v * (Math.random() * 2) });

    }, 50);
});
